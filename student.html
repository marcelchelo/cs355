<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Local CSS -->
  <link rel="stylesheet" href="./style/css/student.css">
  <link rel="stylesheet" href="./style/css/style.css">
  <link rel="stylesheet" href="./style/css/home.css">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="./style/fonts/open-iconic-master/font/css/open-iconic-bootstrap.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script type="text/javascript" src="style/js/student.js"></script>
  <script src="style/js/admin.js"></script>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title id="studentTitle"></title>
  <script>
    loadStoredTitle();
  </script>
</head>

<body id="studentBody" style="background-color:#E8E8E8">
 <!--
<script>
  loadStoredColor();
</script>

 <nav class="main-nav" id="overlay">
  <img src="./style/images/Close Menu.svg" alt="menu" class="close-btn" id="close-menu">
  <ul>
      <li>
        <a href="index.html">home.</a>
        <span>go back home</span>
      </li>
      <li>
        <a href="#resource">resource.</a>
        <span>view our campus resource</span>
      </li>
      <li>
        <a href="https://github.com/marcelchelo/cs355">github.</a>
        <span>view group 2's github page</span>
      </li>
      <li>
        <a href="adminLogin.html">admin.</a>
        <span>portal for site administrator</span>
      </li>

  </ul>
</nav>


<header id="None">
  <div class="header-container">
      <a href="#"><img src="./style/images/modern-american-history-collage-1280px-Queens_College_Logo.svg.png" alt="logo"></a>

      <img src="./style/images/Hamburger Menu.svg" alt="menu" class="menu-btn" id="open-menu">

  </div>
  <section class="header-txt">

      <h1>Transfer Protocol</h1>
      <br>
      <p id="studentDescription"></p>

      <script>
          loadStoredDescription();
      </script>
    </section>
</header>
-->

<script src="js/student.js"></script>

<div class="fixed-nav-bar">
    <a class=topBar href="https://www.cuny.edu/">City University of New York</a>
</div>

<img src="./style/images/TransferPortalLogo.png" alt="CUNY LOGO"class="center">

  <!-- TABS -->
  <div class="card">
    <div class="card-body">
      <ul class="nav nav-tabs nav-justified">
        <li class="nav-item">
          <a class="nav-link active" href="#From" role="tab" data-toggle="tab">1. Current School</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#To" role="tab" data-toggle="tab">2. Transfer School</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Majors" role="tab" data-toggle="tab">3. Major</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Classes" role="tab" data-toggle="tab">4. Classes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#AP" role="tab" data-toggle="tab">5. AP Scores</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Result" role="tab" data-toggle="tab">6. Result</a>

      </ul>
      <!-- CONTENTS OF THE TABS -->
      <div class="tab-content" id="nav-bar">
        <!-- SELECT "FROM SCHOOL" TAB -->
        <div role="tabpanel" class="tab-pane active" id="From">
          <p class="guide">Add the schools you've attended in the past.</p>
          <button class="btn btn-outline-secondary col-xs-12 btn-add-past-schools">
            <span id="btn-add-past-schools-font">+ Add a past college or university</span>
          </button>

          <div class="dropdown dropdown-past-schools-div" style="display: none">
            <button class="btn btn-secondary dropdown-toggle btn-past-schools dropdown_past_schools" type="button"
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Find your past college or university
            </button>
            <div class="menu dropdown-menu"aria-labelledby="dropdown_past_schools">
              <form class="px-4 py-2">
                <input type="search" class="form-control searchPastSchool" placeholder="" autofocus="autofocus">
              </form>
              <div class="pastMenuItems"></div>
              <div class="dropdown-header pastEmpty">No schools found</div>
            </div>
          </div>

          <div class="school-added-container"></div>

          <a class="done-adding-schools">I'M DONE ADDING SCHOOLS</a>
        </div>

        <div role="tabpanel" class="tab-pane transferTo" id="To">
          <!-- SELECT "TRANSFER SCHOOL" TAB -->
          <div class="dropdown" style="display: none;">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown_transfer_schools" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              Find your transfer college or university
            </button>
            <div id="menu" class="dropdown-menu" aria-labelledby="dropdown_transfer_schools">
              <form class="px-4 py-2">
                <input type="search" class="form-control" id="searchTransferSchool" placeholder="" autofocus="autofocus">
              </form>
              <div id="transferMenuItems"></div>
              <div id="transferEmpty" class="dropdown-header">No schools found</div>
            </div>
          </div>

          <p class="guide">Add the schools you're transferring to.</p>
          
          <div class="add-transfer-school-container" style="display: block;">
            <div class="add-school-input-container">
              <input class="add-school-input searchPastSchool" type="text" placeholder="Type School Name">
            </div>
            <a class='close'> <img src='style/images/close-button.svg' alt='close button' class='close-button' align='middle'/> </a>
            <div class="pastMenuItems" style="display: block;"></div>
            <div class="dropdown-header pastEmpty">No schools found</div> 
          </div>
        </div>

        <div role="tabpanel" class="tab-pane " id="Majors">
      <!--Major Search Bar -->
      <br><input class = "search" type="text" id="userInput" size="80" onkeyup="updateMajor()" placeholder="Search for major"><br><br>

      <!--List of majors -->
      <ul id="majorUL" class = "majorDisplay" style = "list-style: none">
        <button class="collapsible">Arts and Humanities</button>
        <div class="content">
          <li><label><input id = "Art" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Art</label><br></li>
          <li><label><input id = "Comparitive Literature" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Comparitive Literature</label><br></li>
          <li><label><input id = "Drama, Theatre, & Dance" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Drama, Theatre, & Dance</label><br></li>
          <li><label><input id = "English" type="checkbox" name = "Major" class="single-checkbox" onclick=updateValue(id)> English</label><br></li>
          <li><label><input id = "Media Studies" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Media Studies</label><br></li>
        </div>

        <button class="collapsible">Mathematics and Natural Sciences</button>
        <div class="content">
          <li><label><input id = "Biology" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Biology</label><br></li>
          <li><label><input id = "Chemistry" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Chemistry</label><br></li>
          <li><label><input id = "Physics" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Physics</label><br></li>
          <li><label><input id = "Computer Science BA" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Computer Science BA</label><br></li>
          <li><label><input id = "Computer Science BS" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Computer Science BS</label><br></li>
        </div>

        <button class="collapsible">Education</button>
        <div class="content">
          <li><label><input id = "Educational and Community Programs" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Educational and Community Programs</label><br></li>
          <li><label><input id = "Elementary and Early Childhood Education" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Elementary and Early Childhood Education</label><br></li>
          <li><label><input id = "Secondary Education and Youth Services" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Secondary Education and Youth Services</label><br></li>
        </div>

        <button class="collapsible">Social Sciences</button>
        <div class="content">
          <li><label><input id = "Anthropology" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Anthropology</label><br></li>
          <li><label><input id = "History" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> History</label><br></li>
          <li><label><input id = "Philosophy" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Philosophy</label><br></li>
          <li><label><input id = "Political Science" type="checkbox" name = "Major" class="single-checkbox" onclick=updateValue(id)> Political Science</label><br></li>
          <li><label><input id = "Urban Studies" name = "Major" class="single-checkbox" type="checkbox" onclick=updateValue(id)> Urban Studies</label><br></li>
        </div>
      </ul>

      <script>
      // Search bar updates majors displayed
      function updateMajor() {
        var input = document.getElementById("userInput");
        var filter = input.value.toUpperCase();

        var ul = document.getElementById("majorUL");

        var li = ul.getElementsByTagName("li");

        for (i = 0; i < li.length; i++) {
          a = li[i].getElementsByTagName("input")[0];
          txtValue = a.id;

          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
          } else {
            li[i].style.display = "none";
          }
        }
      }
      </script>

      <!--Script for collapsible -->
      <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;
        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.maxHeight){
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
        }
      </script>

        </div>

  <script>
    // Updates major selection for user to view
    function updateValue(majorName) {
      if (document.getElementById(majorName).checked) {

        if (document.getElementById("Major1").innerHTML != "Choose a major." && document.getElementById("Major2").innerHTML == "Choose a major.") {
            document.getElementById("Major2").innerHTML = majorName;
        }
        if (document.getElementById("Major1").innerHTML == "Choose a major.") {
          document.getElementById("Major1").innerHTML = majorName;
        }
      }
      else {
        if (document.getElementById("Major2").innerHTML != "Choose a major.") {
          document.getElementById("Major2").innerHTML = "Choose a major.";
        }
        else {
          document.getElementById("Major1").innerHTML ="Choose a major.";
        }
      }
    }

    // Limits user to select only 2 majors.
    var limit = 3;
    $('input.single-checkbox').on('change', function(evt) {
      if($(("input[name = 'Major']:checked")).length >= limit) {
        this.checked = false;
      }
    });
  </script>

       <!--The Classes Tab-->
       <div role="tabpanel" class="tab-pane " id="Classes">
        <div class="dropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown_classes" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false" onclick="Class_Search()" >
            Find your Previous Classes
          </button>
          <div id="classes_menu" class="dropdown-menu" aria-labelledby="dropdown_classes" >
            <form class="px-6 py-2">
              <input type="search" class="form-control" id="searchClasses" placeholder="Search For Classes" autofocus="autofocus">
            </form>
            <div id="Classes_Desc" data-toggle="dropdown" ></div>
            <div id="NoClasses" class="dropdown-header">No Classes Selected</div>
          </div>
        </div>


      <!--Script for the classes Tab-->
      <script>
         let school_name;
         let list_of_classes = [];
         //get the search's input str
         let Classes_searchbar = document.getElementById("searchClasses")

        // Find all items inside the dropdown
        let Classes_in_dropdown = document.getElementsByClassName("classes-dropdown-item")

          //dictionary of classes and what school they are from
         let Schools_Classes = {}
              Schools_Classes["CUNY Queens College"] = ["English 101" , "CS 101" , "History 105" , "Math 241" , "Chem 103"] ;
              Schools_Classes["Alabama State University"] = ["English 201" , "CS 111" , "History 115" , "Math 931" , "Phys 103" , "Gym 1000"] ;
              Schools_Classes["Adelphi University"] = ["English 325" , "CS 207" , "CS 999" , "Math 200" , "Bio 102" , "Bio 103"] ;
              Schools_Classes["CUNY Hunter College"] = ["English 110" , "CS 542" , "History 105" , "Math 738" , "Chinese 103"] ;
              Schools_Classes["CUNY City Tech"] = ["English 101" , "CS 101" , "CS 102", "History 129" , "Math 257" , "Chem 167" , "Phys 1000"] ;
              Schools_Classes["CUNY John Jay"] = ["English 601" , "CS 101" , "History 105" , "Cop 911" , "Nark 101"] ;
              Schools_Classes["SUNY Binghamtom University"] = ["English 1010" , "CS 7331" , "History 1776" , "Math 9876" , "Chem 4317" , "Party 4200"] ;

        // getting the school selected from the FROM tab
        document.getElementById("dropdown_classes").onclick = function Class_Search()
        {
          school_name = document.getElementsByClassName("dropdown_past_schools")[0].innerHTML;
          document.getElementById("Classes_Desc").innerHTML = "";


          // if the user never entered a school show a message
          if(school_name.includes("Find your")){
              document.getElementById("NoClasses").innerHTML = "No School Selected";
          }
          else{
            // putting all the classes into a list
            for(var classes in Schools_Classes[school_name]){
              list_of_classes.push('<input type ="button" class = "dropdown-item classes-dropdown-item" type="button"  value="' + Schools_Classes[school_name][classes] +'"/>' )
            }

            $('#Classes_Desc').append(list_of_classes.join(""))

            // if their exists classes change the message to be blank
            if(document.getElementById("Classes_Desc").innerHTML != "" ){
                document.getElementById("NoClasses").innerHTML = "" ;
            }

          }
          //reset the array so if teh user changes his school the classes won't stack up
          list_of_classes = [] ;
        };

        document.querySelector("#searchClasses").addEventListener('keyup', function() {
          if (Classes_searchbar.value !== null) {
            wordfilter(Classes_searchbar.value.trim().toLowerCase()) ;
          }
          else {
            document.getElementById("NoClasses").innerHTML = "No Classes Selected" ;
            $('#Classes_Desc').hide() ;
          }
        }) ;

         function wordfilter(word) {
           let length = Classes_in_dropdown.length;
           let i = 0;

           while( i < length){
            if (Classes_in_dropdown[i].value.toLowerCase().includes(word)) {
              $('#Classes_Desc').show()
              $(Classes_in_dropdown[i]).show()
            }
            else {
              $(Classes_in_dropdown[i]).hide()

            }
             i++;
           }
         }
      </script>
      </div>

        <div role="tabpanel" class="tab-pane " id="AP">

              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown_tests" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
                  Find your AP test
                </button>
                <div id="menu" class="dropdown-menu" aria-labelledby="dropdown_past_tests">
                  <form class="px-4 py-2">
                    <input type="search" class="form-control" id="searchTests" placeholder="" autofocus="autofocus">
                  </form>
                  <div id="testMenuItems"></div>
                  <div id="testEmpty" class="dropdown-header">No test found</div>
                </div>
              </div>
              <div id="selectedTestContainer" style="display:none">
                <h5>Selected tests</h5>
                <div>
                  <div id="selectedTests"></div>
                </div>
              </div>
              <!-- Script for school search-->
              <script>
                // Initialize list with example colleges
                let tests = ["Physics","Biology","Calculus"]

                // Input search box
                let testsSearchInput = document.getElementById("searchTests")

                // Find all items inside the dropdown
                let testsDropdownItems = document.getElementsByClassName("test-dropdown-item")

                function buildTestDropDown(values) {
                  let contents = []
                  for (let test of values) {
                    contents.push('<input type="button" class="dropdown-item test-dropdown-item" type="button" value="' + test + '"/>')
                  }
                  // Hides all schools by default.
                  $('#testMenuItems').append(contents.join("")).hide()
                  $('#testEmpty').show()
                }
                // Capture the event when user types into search box
                document.querySelector("#searchTests").addEventListener('input', function() {
                  if (testsSearchInput.value.length !== 0) {
                    filterTest(testsSearchInput.value.trim().toLowerCase())
                  }

                  else {
                    $('#testMenuItems').hide()
                    $('#testEmpty').show()
                  }
                })
                // For every word entered by user, check if symbol includes with that word
                // If symbol exists, show the symbol; else hide it
                function filterTest(word) {
                  let length = testsDropdownItems.length
                  let collection = []
                  let hidden = 0
                  for (let i = 0; i < length; i++) {
                    if (testsDropdownItems[i].value.toLowerCase().includes(word)) {
                      $('#testMenuItems').show()
                      $(testsDropdownItems[i]).show()
                    }
                    else {
                      $(testsDropdownItems[i]).hide()
                      hidden++
                    }
                  }
                  // If all items are hidden, show the empty view
                  if (hidden === length) {
                    $('#testEmpty').show()
                  }
                  else {
                    $('#testEmpty').hide()
                  }
                }
                // If the user clicks on any item, set the title of button as the text of the item
                $('#testMenuItems').on('click', '.test-dropdown-item', function () {
                  addSelectedTest(($(this)[0].value));
                  $('#dropdown_tests').dropdown('toggle')
                })

                buildTestDropDown(tests)

                //Adds a test to div
                function addSelectedTest(t) {
                  //If there are no tests to begin with, div holding 'Selected Tests' will not be shown
                  //Changes display from none to block
                  if(document.getElementById('selectedTests').innerHTML === "") {
                    document.getElementById('selectedTestContainer').style.display = "block";
                  }
                  //Create div with name of test and input for score
                  //Div
                  let divTest = document.createElement('div');
                  divTest.setAttribute('class', 'selected');
                  divTest.setAttribute('id', t);
                  //Test
                  let test = document.createElement('p');
                  let testName = document.createTextNode(t);
                  test.setAttribute('class', 'subject');
                  //Remove button
                  let removeButton = document.createElement('button');
                  removeButton.setAttribute('type','button');
                  removeButton.setAttribute('class','close');
                  removeButton.setAttribute('aria-label','Close');
                  removeButton.setAttribute('onclick','removeTest(this)');
                  let removeText = document.createElement('span');
                  removeText.setAttribute('aria-hidden','true');
                  let x = document.createTextNode('x');
                  removeButton.appendChild(x);
                  //Input
                  let testScore = document.createElement('input');
                  testScore.setAttribute('class', 'testScore');
                  removeButton.setAttribute('id',t+"Score");
                  testScore.setAttribute('type','number');
                  testScore.setAttribute('name', 'testScore');
                  testScore.setAttribute('min','1');
                  testScore.setAttribute('max','5');
                  testScore.setAttribute('onchange','isValidScore(this)');
                  testScore.setAttribute('placeholder','Score');
                  //Error message score if entered too low or high
                  //hidden by default
                  let error = document.createElement('p');
                  let errorMessage = document.createTextNode("Score entered needs to be a whole number from 1 to 5.");
                  error.setAttribute('class', 'error');
                  error.appendChild(errorMessage);
                  //Horizontal Rule
                  let rule = document.createElement('hr');

                  test.appendChild(testName);
                  divTest.appendChild(removeButton);
                  divTest.appendChild(test);
                  divTest.appendChild(testScore);
                  divTest.appendChild(error);
                  divTest.appendChild(rule);

                  document.getElementById('selectedTests').appendChild(divTest);

                }

                //Remove div with test containing the button that was clicked on
                function removeTest(b) {
                  //Removes div containing button
                  b.parentNode.remove();
                  //If selectedTest div is empty, will hide div
                  if(document.getElementById('selectedTests').innerHTML === "") {
                    document.getElementById('selectedTestContainer').style.display = 'none';
                  }
                }

                //Check if score entered is valid
                //Parameter is button and not value of score itself for ease of finding elements.
                //If not, display error message
                function isValidScore(score) {
                  let s = Number(score.value);
                  if(s === NaN || Number.isInteger(s) === false || s < 1 || s > 5)
                    $(score).parent().find('p').filter('.error').show();
                  else
                    $(score).parent().find('p').filter('.error').hide();
                }
              </script>


        </div>

        <div="tabpanel" class="tab-pane" id="Result">
        <div class="card">
          <div class="card-body">

            <h5 id="Major1">Choose a major.</h5>
            <p class="card-text"></p>

            <div class="progress">

              <div class="progress">
                <div class="progress-bar" role="progressbar" style="width:80%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">80%</div>
              </div>

            </div>

            <hr>
            <p style=color:black>0 credits apply</p>
            <button class="button cardButton">View detail</button>

          </div>
        </div>

        <div class="card">
          <div class="card-body">

            <h5 id="Major2">Choose a major.</h5>
            <p class="card-text"></p>

            <div class="progress">

              <div class="progress">
                  <div class="progress-bar" role="progressbar" style="width:55%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">55%</div>
              </div>

            </div>

            <hr>
            <p style=color:black>0 credits apply</p>
            <button class=" button cardButton">View detail</button>

          </div>
        </div>
        </div>

      </div>
    </div>
    </div>
  </div>

  <div class="boxed">
      The genre advertises past the involved resident. The tactless parade prosecutes beneath the satisfied motto. When can a naughty mechanic acquire a slash? The fly case works into the witty ceremony. On top of the folding autumn rots the dangerous cathedral.
  </div>

  <footer class="footer">
      ©CUNY 2019-2020
      <br>
      <a class=topBar style="color:black" href="adminLogin.html">Admin Login</a>
      <br>
      <a class=topBar style="color:black" href="https://github.com/marcelchelo/cs355">Github</a>
  </footer>
</body>
</html>